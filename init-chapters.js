// Standalone script to initialize chapters in Firebase
// Run with: node init-chapters.js

import { initializeApp } from 'firebase/app';
import { getFirestore, doc, setDoc, Timestamp } from 'firebase/firestore';

// Firebase configuration
const firebaseConfig = {
  apiKey: "AIzaSyC-xfzgchsvlF6_cyAvHXNUP4u6XpUpCbw",
  authDomain: "invisible-mechanics---2.firebaseapp.com", 
  projectId: "invisible-mechanics---2",
  storageBucket: "invisible-mechanics---2.firebasestorage.app",
  messagingSenderId: "1087911820316",
  appId: "1:1087911820316:web:469b8a189be2c005cc33d9"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

// Physics Chapters with Combined SkillTags (8 chapters total)
const sampleChapters = [
  // Chapter 1 - Kinematics (Images 1 & 2 combined)
  {
    name: 'Kinematics',
    slug: 'kinematics',
    subject: 'Physics',
    defaultSkillTags: [
      // From Image 1
      'introduction-to-classical-mechanics',
      'concept-of-point-object',
      'concept-of-reference-frame',
      'distance-and-displacement',
      'properties-of-displacement',
      'average-speed-and-average-velocity',
      'concept-of-average-speed',
      'instantaneous-speed-and-instantaneous-velocity',
      'factors-affecting-acceleration-of-a-body',
      'uniformly-accelerated-motion-systems',
      'directions-of-vectors-in-straight-line-motion',
      'reaction-time',
      'equations-of-motion-for-variable-acceleration',
      'graphical-interpretation-of-some-quantities',
      'motion-with-uniform-velocity',
      'graphs-in-uniformly-accelerated-motion',
      'interpretation-of-some-more-graphs',
      'interpretation-of-graphs-of-various-types-of-motion',
      'graphs',
      'vertical-motion-under-gravity',
      'motion-in-a-plane-an-introduction',
      'relative-motion',
      'relative-motion-in-one-dimension',
      'relative-acceleration',
      'equations-of-motion-in-relative-velocity-form',
      'relative-motion-in-two-dimension',
      'relative-motion-for-bodies-moving-independently',
      'relative-motion-for-bodies-moving-dependently',
      'velocity-of-approach-separation-in-two-dimension',
      'where-to-apply-the-concept-of-relative-motion',
      'distance-of-closest-approach-between-two-moving-bodies',
      'relative-motion-in-river-flow',
      'river-problem-in-one-dimension',
      'river-boat-problems-or-river-swimmer-problems',
      'condition-for-the-swimmer-to-cross-the-river-in-the-minimum-possible-time',
      'condition-for-zero-drift-or-condition-to-reach-the-opposite-point',
      'condition-when-the-boatman-crosses-the-river-along-the-shortest-route',
      'aeroplane-wind-problems',
      'rain-man-problems',
      // From Image 2  
      'angular-displacement-angular-velocity-angular-and-centripetal-acceleration',
      'angular-centripetal-tangential-and-total-acceleration',
      'unit-vectors-along-the-radius-and-the-tangent',
      'velocity-and-acceleration-of-particle-in-circular-motion',
      'kinematics-of-motion-of-particle-in-a-curved-track',
      'radius-of-curvature',
      'projectile-motion-an-introduction',
      'types-of-projectile-motion',
      'horizontal-projectile',
      'oblique-projectile',
      'range-maximum-height-and-time-of-flight-for-complimentary-angles',
      'two-unique-times-for-which-projectile-is-at-same-height',
      'radius-of-curvature-of-an-oblique-projectile-at-a-point-p',
      'equation-of-trajectory-of-an-oblique-projectile-in-terms-of-range',
      'relative-motion-between-two-projectiles-motion-of-one-projectile-as-seen-from-another-projectile',
      'condition-of-collision-between-two-projectiles',
      'motion-of-a-projectile-up-an-inclined-plane',
      'motion-of-a-projectile-down-an-inclined-plane'
    ]
  },
  // Chapter 2 - Laws of Motion (Images 3 & 4 combined)
  {
    name: 'Laws of Motion',
    slug: 'laws-of-motion',
    subject: 'Physics',
    defaultSkillTags: [
      // From Image 3
      'dynamics-an-introduction',
      'force',
      'newtons-laws-of-motion',
      'newtons-first-law-or-law-of-inertia',
      'momentum',
      'newtons-second-law-of-motion',
      'newtons-third-law-of-motion',
      'fundamental-forces-in-nature',
      'classification-of-forces-on-the-basis-of-contact',
      'system',
      'concept-of-impulse-and-impulse-as-area-under-f-t-graph',
      'impulse-momentum-theorem',
      'constrained-motion-of-connected-particles',
      'one-degree-of-freedom',
      'two-degrees-of-freedom',
      'simple-constraint-motion-of-bodies-and-particles-in-two-dimensions',
      'wedge-constraints',
      'free-body-diagram',
      'weight-of-a-body',
      'normal-reaction-normal-contact-force',
      'normal-reaction-for-various-situations',
      'tension-in-a-light-string',
      'tension-in-a-rope-having-uniform-mass-distribution',
      'spring-force',
      'spring-balance',
      'newtons-second-law-revisited',
      'atwoods-machine',
      'masses-connected-with-strings',
      'masses-on-a-smooth-surface-in-contact-with-each-other',
      'body-on-a-smooth-inclined-plane',
      'when-masses-are-suspended-vertically-from-a-rigid-support',
      'when-two-masses-are-attached-to-a-string-which-passes-over-a-pulley-attached-to-the-edge-of-a-horizontal-table',
      'when-two-masses-are-attached-to-a-string-which-passes-over-a-pulley-attached-to-the-edge-of-an-inclined-plane',
      'when-two-masses-are-attached-to-a-string-which-passes-over-a-pulley-attached-to-the-top-of-a-double-inclined-plane',
      'weighing-machine',
      'equilibrium-of-coplanar-forces',
      'rotational-equilibrium-law-of-conservation-of-moments-of-force',
      'examples-and-situations-for-rotational-equilibrium',
      'frames-of-reference',
      'man-in-a-lift',
      // From Image 4
      'friction-introduction',
      'reasons-for-friction',
      'contact-force-and-friction',
      'static-and-kinetic-friction',
      'laws-of-friction',
      'coefficient-of-friction-limiting-friction-and-angle-of-friction',
      'the-coefficient-of-friction',
      'resultant-force-exerted-by-a-surface-on-the-block',
      'acceleration-of-block-on-rough-horizontal-surface',
      'angle-of-repose',
      'acceleration-of-block-down-a-rough-incline',
      'retardation-of-block-moving-up-a-rough-incline',
      'maximum-height-to-which-an-insect-can-crawl-up-a-rough-hemispherical-bowl',
      'maximum-length-of-chain-that-can-hang-from-the-table-without-falling-from-it',
      'minimum-force-for-motion-along-horizontal-surface-and-its-direction',
      'circular-motion-an-introduction',
      'variables-of-circular-motion',
      'kinematics-of-circular-motion',
      'relative-angular-velocity',
      'angular-displacement-d-theta-revisited',
      'angular-velocity-revisited',
      'angular-acceleration-revisited',
      'radial-and-tangential-acceleration',
      'calculation-of-centripetal-acceleration',
      'dynamics-of-circular-motion',
      'motion-of-a-particle-in-a-curved-track-and-radius-of-curvature',
      'centrifugal-force',
      'rotor-or-death-well',
      'motion-of-a-cyclist',
      'circular-turning-on-roads',
      'by-friction-only-vehicle-on-a-level-road',
      'maximum-velocity-for-skidding-and-overturning',
      'by-banking-of-roads-tracks',
      'by-friction-and-banking-of-road-both',
      'conical-pendulum'
    ]
  },
  // Chapter 3 - Work, Power & Energy (Image 5)
  {
    name: 'Work, Power and Energy',
    slug: 'work-power-energy',
    subject: 'Physics',
    defaultSkillTags: [
      'wpe-introduction',
      'work-done-by-a-constant-force',
      'positive-and-negative-work',
      'zero-work-done',
      'work-done-by-friction',
      'work-done-by-static-friction',
      'work-done-by-kinetic-friction',
      'dependence-of-work-on-frame-of-reference',
      'work-done-by-gravity',
      'work-done-by-pseudo-force',
      'work-done-by-a-variable-force',
      'work-done-by-spring-force',
      'work-done-as-area-under-f-x-graph',
      'energy',
      'concept-of-kinetic-energy-and-work-energy-theorem',
      'importance-of-the-work-energy-theorem',
      'conservative-and-non-conservative-forces',
      'potential-energy',
      'the-potential-energy-is-defined-only-for-conservative-forces',
      'conservative-system-and-concept-of-potential-energy',
      'gravitational-potential-energy-near-the-earths-surface',
      'spring-potential-energy-or-elastic-potential-energy',
      'power',
      'law-of-conservation-of-mechanical-energy',
      'modified-work-energy-theorem',
      'work-energy-theorem-for-non-conservative-system',
      'relation-between-f-c-and-u',
      'potential-energy-curve',
      'nature-of-force',
      'types-of-equilibrium',
      'motion-in-a-vertical-circle',
      'velocity-at-the-point-p',
      'tension-in-the-string-at-any-point-p',
      'tension-at-the-lowest-point-l',
      'tension-at-the-highest-point-h',
      'condition-for-looping-the-loop',
      'tension-and-velocity-at-points',
      'motion-of-a-body-on-a-spherical-surface',
      'condition-for-looping-the-loop-in-some-other-cases'
    ]
  },
  // Chapter 4 - Center of Mass (Image 6)
  {
    name: 'Centre of Mass',
    slug: 'centre-of-mass',
    subject: 'Physics',
    defaultSkillTags: [
      'centre-of-mass-introduction',
      'centre-of-mass-and-newtons-second-law',
      'definition-of-centre-of-mass',
      'any-system-can-be-thought-of-as-a-two-particle-system',
      'centre-of-mass-for-thin-sheets-and-laminar-bodies',
      'centre-of-mass-for-a-system-having-a-cavity',
      'centre-of-mass-of-extended-bodies',
      'velocity-and-acceleration-of-center-of-mass',
      'motion-of-the-centre-of-mass',
      'displacement-of-centre-of-mass-of-a-system-of-particles',
      'centre-of-mass-reference-frame-or-centroidal-frame-or-c-frame-or-zero-momentum-frame',
      'kinetic-energy-of-a-system-of-particles',
      'kinetic-energy-and-momentum-of-two-particle-system-with-respect-to-centre-of-mass',
      'gravitational-potential-energy-of-a-system-of-particles',
      'work-energy-theorem-for-a-system-of-particles',
      'work-energy-theorem-from-the-centre-of-mass-reference-frame',
      'total-work-done-by-pseudo-forces-in-centre-of-mass-reference-frame-or-centroidal-frame',
      'conservation-of-linear-momentum',
      'law-of-conservation-of-linear-momentum',
      'instantaneous-impulse',
      'impulsive-tensions',
      'conservation-of-linear-momentum-for-a-two-particle-system',
      'variable-mass',
      'rocket-propulsion',
      'liquid-coming-out-of-orifice-in-a-beaker',
      'chain-falling-through-a-hole-or-chain-being-lifted-vertically-up',
      'types-of-collisions',
      'coefficient-of-restitution',
      'impact-parameter',
      'types-of-collisions',
      'head-on-elastic-collision',
      'special-cases',
      'inelastic-head-on',
      'ball-ground-inelastic-head-on-collision',
      'perfectly-inelastic-head-on-collision',
      'oblique-collision'
    ]
  },
  // Chapter 5 - Rotation (Images 7 & 8 combined)
  {
    name: 'Rotational Motion',
    slug: 'rotational-motion',
    subject: 'Physics',
    defaultSkillTags: [
      // From Image 7
      'rotational-motion-introduction',
      'moment-of-inertia',
      'radius-of-gyration',
      'perpendicular-axis-theorem',
      'parallel-axis-theorem',
      'moment-of-inertia-of-a-thin-ring',
      'moment-of-inertia-of-a-thin-disc',
      'moment-of-inertia-of-a-thin-rod',
      'moment-of-inertia-of-a-shell-about-diameter-and-tangent',
      'moment-of-inertia-of-a-sphere-about-diameter-and-tangent',
      'table-moment-of-inertia-of-different-bodies',
      'moment-of-inertia-of-a-hollow-cone',
      'moment-of-inertia-of-a-solid-cone',
      'combined-translational-and-rotational-motion-of-a-rigid-body',
      'linear-velocity-of-a-general-point-p-under-combined-translational-and-rotational-motion-of-a-rigid-body',
      'linear-acceleration-of-a-general-point-p-under-combined-translational-and-rotational-motion-of-a-rigid-body',
      'uniform-pure-rolling',
      'rigid-body-constraint',
      'rigid-body-constraint-for-acceleration',
      'atwoods-machine',
      'coaxial-pulleys',
      'discs-connected-by-a-rope-or-chain',
      'acceleration-and-velocity-of-any-point-on-a-rigid-body',
      'rotational-kinetic-energy',
      'modified-work-energy-theorem-and-conservation-of-mechanical-energy',
      'total-energy-of-a-body-in-pure-rolling',
      'instantaneous-axis-of-rotation',
      'location-of-the-ic',
      'torque',
      'force-couple',
      'general-motion-of-a-rigid-body',
      'concept-of-toppling',
      'shifting-of-normal-reaction-and-toppling',
      'toppling',
      'work-done-by-a-torque',
      'string-constant-and-energy-stored-in-a-string',
      // From Image 8
      'power',
      'work-energy-principle',
      'modified-newtons-second-law-for-fixed-axis-rotation',
      'motion-of-a-point-mass-attached-to-a-cylinder-with-a-thread',
      'atwoods-machine',
      'accelerated-pure-rolling',
      'body-rolling-without-slipping-on-an-inclined-plane',
      'condition-for-a-body-to-roll-without-slipping',
      'rolling-wheel-on-a-movable-plank',
      'angular-momentum',
      'relation-between-l-and-tau',
      'angular-impulse',
      'angular-impulse-angular-momentum-theorem',
      'law-of-conservation-of-angular-momentum',
      'ball-rod-collisions',
      'rolling-with-slipping'
    ]
  },
  // Chapter 6 - Gravitation (Image 9)
  {
    name: 'Gravitation',
    slug: 'gravitation',
    subject: 'Physics',
    defaultSkillTags: [
      'newtons-law-of-gravitation',
      'properties-of-g',
      'principle-of-superposition',
      'gravitational-field-strength',
      'gravitational-field-lines',
      'field-due-to-sphere-and-shell',
      'gravitational-field-at-the-axis-of-a-circular-uniform-ring',
      'acceleration-due-to-gravity',
      'variation-in-g',
      'gravitational-potential-energy-of-a-system-of-two-particles',
      'gravitational-potential-energy-for-a-system-of-particles',
      'gravitational-self-energy-for-a-thin-uniform-shell',
      'gravitational-self-energy-for-a-uniform-sphere',
      'potential-energy-of-a-particle-on-earths-surface',
      'gravitational-potential',
      'gravitational-potential-due-to-an-assembly-of-masses',
      'gravitational-potential-due-to-a-thin-rod',
      'gravitational-potential-due-to-a-ring-at-its-centre',
      'gravitational-potential-difference',
      'the-gravitational-potential-and-field-strength-due-to-a-thin-spherical-shell',
      'the-gravitational-potential-and-field-strength-due-to-a-solid-sphere',
      'gravitational-potential-at-a-point-p-on-the-axis-of-the-ring-at-distance-x-from-its-centre',
      'relation-between-gravitational-field-and-gravitational-potential',
      'conservation-laws-for-gravitational-systems',
      'launching-speed-of-a-projectile',
      'maximum-height-attained-by-a-projectile',
      'escape-speed',
      'satellites',
      'kinetic-energy-of-a-satellite',
      'potential-energy-of-a-satellite',
      'total-mechanical-energy-of-a-satellite',
      'binding-energy-of-a-satellite',
      'communication-satellite',
      'energy-graph',
      'broadcasting-region-of-a-satellite',
      'keplers-laws',
      'double-star-system-or-binary-star-system'
    ]
  },
  // Chapter 7 - Properties of Solids (Image 10)
  {
    name: 'Properties of Solids',
    slug: 'properties-of-solids',
    subject: 'Physics',
    defaultSkillTags: [
      'introduction-of-mechanical-properties-of-matter',
      'the-states-of-matter',
      'elasticity',
      'deforming-force',
      'perfectly-elastic-body',
      'perfectly-plastic-body',
      'cause-of-elasticity',
      'stress',
      'tangential-shear-stress-and-normal-tensile-stress',
      'volumetric-stress-or-bulk-stress-or-pressure-or-normal-stress',
      'strain',
      'longitudinal-strain',
      'volumetric-strain',
      'shear-strain',
      'relation-of-stress-to-strain-and-elastic-modulus',
      'hookes-law',
      'youngs-modulus',
      'thermal-stress',
      'force-constant-of-a-wire',
      'elongation-of-rod-under-its-self-weight',
      'breaking-stress',
      'breaking-of-a-wire-under-its-own-weight',
      'elastic-potential-energy',
      'behaviour-of-a-wire-under-stress',
      'elastic-fatigue',
      'behaviour-of-rubber-under-stress',
      'elastic-hysteresis',
      'poissons-ratio',
      'relation-between-volumetric-strain-longitudinal-strain-and-poissons-ratio',
      'depression-of-a-beam',
      'shear-modulus',
      'torsion-of-a-cylinder',
      'bulk-modulus',
      'relations-between-elastic-constants',
      'density-of-compressed-liquids'
    ]
  },
  // Chapter 8 - Fluid Mechanics (Images 11, 12 & 13 combined)
  {
    name: 'Fluid Mechanics',
    slug: 'fluid-mechanics',
    subject: 'Physics',
    defaultSkillTags: [
      // From Image 11
      'fluids-introduction-and-assumptions',
      'density',
      'relative-density-or-specific-gravity',
      'density-of-a-mixture-of-two-or-more-liquids',
      'fluid-at-rest',
      'pressure',
      'atmospheric-pressure',
      'pressure-is-isotropic',
      'variation-of-pressure-with-depth',
      'the-incompressible-fluid-model',
      'absolute-pressure-and-gauge-pressure',
      'simple-free-body-diagram-of-a-liquid-in-a-container',
      'hydrostatic-paradox',
      'pressure-measuring-device-manometer',
      'the-mercury-barometer',
      'pascals-law',
      'hydraulic-lift',
      'force-and-torque-due-to-hydrostatic-pressure',
      'the-compressible-fluid-model',
      'liquids-in-accelerated-containers',
      'horizontally-accelerating-u-tube',
      'pressure-difference-in-rotating-fluids',
      'archimedes-principle',
      'archimedes-principle-a-general-proof-for-an-arbitrary-shaped-body',
      'finding-the-relative-density-or-specific-gravity-of-a-body',
      'finding-the-relative-density-or-specific-gravity-of-a-liquid',
      'laws-of-floatation',
      'apparent-weight-of-a-body-immersed-in-liquid',
      'fractional-volume-of-a-floating-body-inside-the-liquid',
      'buoyant-force-in-accelerating-fluids',
      'stability-of-a-floating-body',
      'viscosity',
      'coefficient-of-viscosity',
      'similarities-between-viscosity-and-solid-friction',
      'differences-between-viscosity-and-solid-friction',
      'some-applications-of-viscosity',
      'variation-of-viscosity',
      'stokes-law',
      'terminal-velocity',
      'flow-of-liquid-in-tube-critical-velocity',
      // From Image 12
      'steady-flow-of-liquid-through-a-capillary-tube-poiseuilles-formula',
      'combination-of-tubes-in-series',
      'combination-of-tubes-in-parallel',
      'motion-of-a-fluid',
      'flow-of-ideal-fluid-basic-definitions',
      'equation-of-continuity',
      'energies-possessed-by-a-liquid',
      'bernoullis-equation',
      'static-dynamic-and-total-pressure',
      'working-of-an-airplane-or-aerodynamic-lift',
      'roofs-blowing-off-during-wind-storms',
      'attraction-between-two-closely-parallel-moving-boats-or-trains',
      'magnus-effect-spinning-of-a-ball-or-spinning-of-a-bullet',
      'action-of-an-atomiser-or-sprayer',
      'blood-flow-and-heart-attack',
      'venturimeter',
      'pitot-tube',
      'speed-of-efflux',
      'force-of-reaction-due-to-ejection-of-the-liquid-from-an-orifice',
      'speed-of-efflux-torricellis-theorem',
      'range-of-liquid-hitting-the-ground',
      'time-to-empty-the-beaker-to-the-orifice',
      'surface-tension-introduction',
      'explanation-to-surface-tension',
      'force-due-to-surface-tension',
      'surface-energy',
      'relation-between-surface-energy-and-surface-tension',
      'splitting-of-bigger-drop-into-small-droplets',
      'formation-of-bigger-drop-from-small-droplets',
      'cohesive-forces',
      'adhesive-forces',
      'water-wets-the-glass-surface-but-mercury-does-not-explanation',
      'angle-of-contact',
      'shape-of-liquid-meniscus-in-a-glass-tube',
      'radius-of-curvature-of-a-curve',
      'principal-radii-of-curvature-of-a-surface',
      'excess-pressure-inside-liquid-surface-with-two-curvatures-young-laplace-equation',
      'pressure-difference-between-the-two-sides-for-a-curved-liquid-surface',
      'excess-pressure-inside-a-liquid-drop-and-air-bubble',
      'excess-pressure-inside-a-soap-bubble',
      // From Image 13
      'capillarity',
      'explanation-to-capillarity',
      'practical-applications-of-capillarity',
      'rise-of-liquid-between-two-parallel-plates',
      'liquid-between-two-horizontal-plates',
      'rise-of-liquid-in-a-capillary-tube-of-insufficient-length'
    ]
  }
];

async function initializeChapters() {
  console.log('🚀 Initializing 8 physics chapters with combined skillTags...');
  
  for (let i = 0; i < sampleChapters.length; i++) {
    const chapter = sampleChapters[i];
    try {
      const chapterRef = doc(db, 'chapters', chapter.slug);
      await setDoc(chapterRef, {
        id: chapter.slug,
        title: chapter.name, // Keep title for backwards compatibility  
        name: chapter.name,
        slug: chapter.slug,
        subject: chapter.subject,
        skillTags: [], // Initialize as empty - users can add custom ones
        defaultSkillTags: chapter.defaultSkillTags, // Store the predefined skillTags
        createdAt: Timestamp.now(),
        updatedAt: Timestamp.now()
      }, { merge: true });
      console.log(`✅ Initialized chapter ${i + 1}: ${chapter.name} with ${chapter.defaultSkillTags.length} default skillTags`);
    } catch (error) {
      console.error(`❌ Failed to initialize chapter ${chapter.name}:`, error);
    }
  }
  
  console.log('🎉 Chapter initialization complete! All 8 physics chapters with combined skillTags have been stored.');
  console.log('🤖 These skillTags are now ready for OpenAI GPT auto-tagging integration!');
  process.exit(0);
}

// Run the initialization
initializeChapters().catch(console.error);